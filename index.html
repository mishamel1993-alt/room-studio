<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>РУМ СТУДИО — запись, сведение, мастеринг в Подольске</title>
  <meta name="description" content="РУМ СТУДИО — студия звукозаписи в Подольске. Запись вокала и инструментов, сведение, мастеринг, минуса на заказ. Ламповая атмосфера и профессиональный звук." />

  <!-- минимально нужные SEO/OG дополнения -->
  <link rel="canonical" href="https://room-studio.vercel.app/">
  <meta name="robots" content="index,follow">
  <meta name="theme-color" content="#0b0f0d">

  <!-- OG -->
  <meta property="og:title" content="РУМ СТУДИО — запись, сведение, мастеринг в Подольске">
  <meta property="og:description" content="Запись вокала и инструментов, сведение, мастеринг, минуса на заказ. Тёплая атмосфера и профессиональный звук.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://room-studio.vercel.app/og-cover.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="РУМ СТУДИО — запись, сведение, мастеринг в Подольске">
  <meta name="twitter:description" content="Запись вокала и инструментов, сведение, мастеринг, минуса на заказ. Тёплая атмосфера и профессиональный звук.">
  <meta name="twitter:image" content="https://room-studio.vercel.app/og-cover.jpg">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="/favicon.ico" />
  <style>
    :root{--rum:#00ff88;--bg:#0b0f0d}
    html{scroll-behavior:smooth}
    body{background:var(--bg);color:#fff;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    .glass{background:rgba(255,255,255,.05);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.12)}
    .btn{display:inline-block;padding:.8rem 1.2rem;border-radius:14px;font-weight:700}
    .btn-primary{background:var(--rum);color:#07120b;box-shadow:0 8px 30px rgba(0,255,136,.3)}
    .btn-outline{border:1px solid rgba(255,255,255,.2)}
    .badge{border:1px solid rgba(255,255,255,.2);border-radius:9999px;padding:.2rem .6rem;font-size:.75rem}
    .input{width:100%;padding:.7rem .9rem;border-radius:12px;background:#00000066;border:1px solid #ffffff26;outline:none}
    .input:focus{border-color:var(--rum)}
    .section{padding-top:4rem;padding-bottom:4rem;border-top:1px solid rgba(255,255,255,.08)}
    .section:first-of-type{border-top:0}
    a:focus-visible,button:focus-visible,input:focus-visible,select:focus-visible,textarea:focus-visible{
      outline:2px solid var(--rum);outline-offset:2px
    }

    /* ===== ХОВЕРЫ И ЛОГО ===== */
    a, button, .btn, .btn-outline, .btn-primary, .badge { transition: all .2s ease; }
    .btn:hover { transform: translateY(-1px); }
    .btn:active { transform: translateY(0); }
    .btn-primary:hover { box-shadow: 0 12px 40px rgba(0,255,136,.45); filter: saturate(1.05); }
    .btn-outline:hover { border-color: var(--rum); background: rgba(0,255,136,.08); color: #d8ffe9; }
    nav a:hover, a:hover { color: var(--rum); }
    .glass:hover { border-color: rgba(0,255,136,.22); }

    .logo-box {
      width: 40px; height: 40px;
      border-radius: 12px; overflow: hidden;
      background: #00000080;
      box-shadow: 0 6px 18px rgba(0,0,0,.35);
      border: 1px solid rgba(0,255,136,.35);
      display: inline-flex; align-items: center; justify-content: center;
    }
    .logo-img { width: 100%; height: 100%; object-fit: contain; padding: 2px; }
  </style>

  <!-- JSON-LD (MusicRecordingStudio) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "MusicRecordingStudio",
    "name": "РУМ СТУДИО",
    "address": { "@type": "PostalAddress", "addressLocality": "Подольск", "streetAddress": "ул. Дружбы, д. 15", "addressCountry": "RU" },
    "url": "https://room-studio.vercel.app",
    "sameAs": [
      "https://t.me/room_studio15",
      "https://vk.com/room_sound",
      "https://www.instagram.com/room.studio15/",
      "https://www.youtube.com/channel/UCOny814J_4fY1OKJG99IR7Q"
    ],
    "priceRange": "₽₽",
    "openingHours": "Mo-Su 10:00-22:00",
    "telephone": "+7 985 925-38-08",
    "email": "roomstudio15@yandex.com",
    "description": "Запись вокала, сведение, мастеринг, минуса на заказ"
  }
  </script>

  <!-- JSON-LD FAQ -->
  <script type="application/ld+json">
  {
   "@context": "https://schema.org",
   "@type": "FAQPage",
   "mainEntity": [
     {
       "@type": "Question",
       "name": "Можно ли прийти без опыта записи?",
       "acceptedAnswer": {"@type": "Answer","text": "Да. Поможем с разогревом, дыханием, дублями и поведём по процессу."}
     },
     {
       "@type": "Question",
       "name": "Сколько правок включено?",
       "acceptedAnswer": {"@type": "Answer","text": "В сведение включено 2 правки, в мастеринг — 1. Дополнительные — по договорённости."}
     },
     {
       "@type": "Question",
       "name": "Можно ли подарочный сертификат?",
       "acceptedAnswer": {"@type": "Answer","text": "Да, оформим цифровой сертификат на запись или сведение."}
     }
   ]
  }
  </script>
</head>
<body>
  <!-- HEADER -->
  <header class="sticky top-0 z-50 glass">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="#home" class="flex items-center gap-3">
        <!-- ЛОГО поправлено -->
        <span class="logo-box">
          <img src="/logo.png" alt="РУМ СТУДИО" class="w-12 h-12 rounded-xl object-cover shadow-lg ring-1 ring-[var(--rum)]/40">
        </span>
        <div>
          <div class="text-lg font-extrabold">РУМ СТУДИО</div>
          <div class="text-xs text-white/60 -mt-1">Запись • Сведение • Мастеринг</div>
        </div>
      </a>
      <nav class="hidden md:flex gap-6 text-sm">
        <a href="#services" class="hover:text-[var(--rum)]">Услуги</a>
        <a href="#pricing" class="hover:text-[var(--rum)]">Цены</a>
        <a href="#works" class="hover:text-[var(--rum)]">Работы</a>
        <a href="#studio" class="hover:text-[var(--rum)]">Студия</a>
        <a href="#faq" class="hover:text-[var(--rum)]">FAQ</a>
        <a href="#contacts" class="hover:text-[var(--rum)]">Контакты</a>
        <a href="#booking" class="btn btn-primary">Записаться</a>
      </nav>
      <button id="menuBtn" aria-expanded="false" aria-controls="mobileMenu" class="md:hidden inline-flex items-center justify-center rounded-xl border border-white/15 p-2" aria-label="Открыть меню">
        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
    </div>
    <div id="mobileMenu" class="md:hidden hidden border-t border-white/10">
      <div class="px-4 py-3 flex flex-col gap-3 text-sm">
        <a href="#services">Услуги</a>
        <a href="#pricing">Цены</a>
        <a href="#works">Работы</a>
        <a href="#studio">Студия</a>
        <a href="#faq">FAQ</a>
        <a href="#contacts">Контакты</a>
        <a href="#booking" class="btn btn-primary text-center">Записаться</a>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section id="home" class="section">
    <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-10 items-center">
      <div>
        <span class="badge text-white/80">Подольск · Россия</span>
        <h1 class="mt-4 text-4xl md:text-6xl font-extrabold leading-tight">Звук, который <span class="text-[var(--rum)]">чувствуется</span></h1>
        <p class="mt-4 text-white/70 text-lg">Запись вокала и инструментов, сведение, мастеринг, минуса на заказ. Ламповая атмосфера и точный звук.</p>
        <div class="mt-6 flex gap-3">
          <a href="#booking" class="btn btn-primary">Записаться</a>
          <a href="https://t.me/room_studio15" target="_blank" rel="noopener" class="btn btn-outline">Telegram</a>
        </div>
        <div class="mt-6 text-sm text-white/60 flex items-center gap-4">
          <span class="inline-flex items-center gap-2"><span class="w-2 h-2 rounded-full bg-[var(--rum)] animate-pulse"></span> Свободные слоты на этой неделе</span>
          <span class="hidden md:block">·</span>
          <span>Первым клиентам — бонусы</span>
        </div>
      </div>
      <div>
        <div class="rounded-2xl overflow-hidden glass relative">
          <div class="aspect-video bg-black/60">
            <iframe class="w-full h-full"
              src="https://www.youtube-nocookie.com/embed/_K1p2wUo9Hw?rel=0"
              title="ROOM STUDIO Promo"
              loading="lazy"
              referrerpolicy="strict-origin-when-cross-origin"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen></iframe>
          </div>
          <div class="absolute left-4 bottom-4 badge bg-black/50">Промо-ролик · 1 минута</div>
        </div>
      </div>
    </div>
  </section>

 <!-- SERVICES -->
<section id="services" class="section">
  <div class="max-w-7xl mx-auto px-4">
    <div class="mb-8 flex items-end justify-between gap-6">
      <div>
        <h2 class="text-3xl md:text-4xl font-extrabold">Услуги</h2>
        <p class="text-white/60 mt-2">Прозрачно по ценам, по-взрослому по звуку.</p>
      </div>
      <a href="#pricing" class="text-sm text-[var(--rum)]">Смотреть цены →</a>
    </div>

    <!-- ВАЖНО: один grid-контейнер и ровно 4 дочерних карточки -->
    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-5">
      <div class="glass rounded-2xl p-5">
        <div class="text-xl font-semibold">Запись вокала</div>
        <p class="text-white/70 mt-2">Студийные микрофоны, тихая комната, тёплый приём.</p>
      </div>

      <div class="glass rounded-2xl p-5">
        <div class="text-xl font-semibold">Сведение</div>
        <p class="text-white/70 mt-2">Баланс, глубина, ширина — делаем трек конкурентным.</p>
      </div>

      <div class="glass rounded-2xl p-5">
        <div class="text-xl font-semibold">Саунддизайн</div>
        <p class="text-white/70 mt-2">Создадим звук под видео: музыка, SFX, атмосфера.</p>
      </div>

      <div class="glass rounded-2xl p-5">
        <div class="text-xl font-semibold">Минуса на заказ</div>
        <p class="text-white/70 mt-2">От идеи до аранжировки под твой голос и стиль.</p>
      </div>
    </div>
  </div>
</section>

  <!-- PRICING -->
  <section id="pricing" class="section">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-extrabold">Цены</h2>
      <p class="text-white/60 mt-2">Честно и понятно. Спецусловия при пакетах.</p>
      <div class="mt-8 grid md:grid-cols-3 gap-6">
        <div class="rounded-2xl border border-white/10 p-6 glass">
          <div class="badge">Запись</div>
          <h3 class="mt-3 text-2xl font-bold">от 1000 ₽ / час</h3>
          <ul class="mt-4 space-y-2 text-white/70 text-sm">
            <li>Тихая вокальная комната</li>
            <li>Помощь с дублями и разогревом</li>
            <li>Контрольные слушания</li>
          </ul>
          <a href="#booking" class="btn btn-outline mt-6">Записаться</a>
        </div>
        <div class="rounded-2xl border-2 border-[var(--rum)] p-6 bg-black/50 shadow-2xl">
          <div class="badge border-[var(--rum)]/40">Сведение</div>
          <h3 class="mt-3 text-2xl font-bold">от 5000 ₽ / трек</h3>
          <ul class="mt-4 space-y-2 text-white/70 text-sm">
            <li>Баланс, эквализация, компрессия</li>
            <li>2 правки включены</li>
            <li>Форматы WAV/MP3/Stem</li>
          </ul>
          <a href="#booking" class="btn btn-primary mt-6">Заказать</a>
        </div>
        <div class="rounded-2xl border border-white/10 p-6 glass">
          <div class="badge">Саунддизайн</div>
<h3 class="mt-3 text-2xl font-bold">от 7000 ₽ / проект</h3>
<ul class="mt-4 space-y-2 text-white/70 text-sm">
  <li>Звук под видео, рекламный ролик или TikTok/Reels</li>
  <li>Музыка + звуковые эффекты + финальный микс</li>
  <li>1 правка включена</li>
</ul>
<a href="#booking" class="btn btn-outline mt-6">Заказать</a>
        </div>
      </div>
      <p class="text-white/50 text-xs mt-4">* Пакеты “Запись + Сведение + Мастеринг” — выгоднее. Спросите про условия.</p>
    </div>
  </section>

 <!-- WORKS — кастомный плеер поверх видео -->
<section id="works" class="w-full mt-16">

  <div class="relative w-full overflow-hidden">

    <!-- Видео -->
    <video
      id="showreelVideo"
      class="w-full h-full object-cover"
      autoplay
      loop
      muted
      playsinline
      preload="metadata"
      poster="/images/mix-cover.jpg"
    >
      <source src="/media/showreel-cover.mp4" type="video/mp4" />
    </video>
    <!-- Оверлей-анимация текста -->
<video
  id="overlayText"
  class="pointer-events-none absolute left-1/2 -translate-x-1/2 top-[12%]
         w-[80%] md:w-[60%] mix-blend-screen opacity-95"
  autoplay
  muted
  loop
  playsinline
  preload="metadata"
>
  <!-- Если есть версия с альфа-каналом (WebM VP9 + alpha) — ставим её первой -->
  <source src="/media/works-title.webm" type="video/webm" />
  <!-- Фолбэк на MP4 (с тёмным/чёрным фоном) -->
  <source src="/media/наши работы.mp4" type="video/mp4" />
</video>

    <!-- Тёмное затемнение -->
    <div class="absolute inset-0 bg-black/35 pointer-events-none"></div>

    <!-- Контейнер кнопки + прогресс -->
    <div class="absolute inset-0 flex flex-col items-center justify-center gap-6 z-10">

      <!-- Кнопка Play/Pause -->
      <button
        id="showreelPlayBtn"
        class="inline-grid place-items-center w-24 h-24 rounded-full bg-[var(--rum)] text-black font-extrabold
               shadow-[0_12px_40px_rgba(0,255,136,.35)] transition-transform hover:scale-105"
        aria-label="Воспроизвести шоурил"
        style="border:none;background:var(--rum);"
      >
        <svg id="showreelPlayIcon" width="34" height="34" fill="currentColor" viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z"></path>
        </svg>
        <svg id="showreelPauseIcon" width="34" height="34" fill="currentColor" viewBox="0 0 24 24" class="hidden">
          <path d="M6 5h4v14H6zM14 5h4v14h-4z"></path>
        </svg>
      </button>

      <!-- Эквалайзер -->
<div id="eqWrap"
     class="pointer-events-none w-[70%] md:w-[50%] h-10
            opacity-0 transition-opacity duration-300">
  <canvas id="eqCanvas" class="w-full h-full"></canvas>
</div>

      <!-- Кастомный прогресс-бар -->
      <input
        id="showreelSeek"
        type="range"
        value="0"
        min="0"
        max="100"
        class="w-[60%] md:w-[40%] h-1 rounded-full cursor-pointer
               appearance-none bg-white/30"
        style="
          accent-color: var(--rum);
        "
      >
    </div>
  </div>

  <!-- скрытый аудио-плеер -->
  <audio id="showreelAudio" class="hidden">
    <source src="/media/showreel-mix.mp3" type="audio/mpeg" />
  </audio>

  <!-- кнопка CTA под блоком -->
  <div class="mt-6 flex justify-center">
    <a href="#booking"
       class="px-8 py-3 rounded-full bg-[var(--rum)] text-black font-bold text-lg shadow-[0_0_30px_rgba(0,255,136,.25)] hover:scale-105 transition-transform">
      Записаться
    </a>
  </div>

</section>

    <!-- Аудио -->
    <div class="mt-6">
      <h3 class="font-semibold mb-2 text-lg">ROOM STUDIO — Showreel Mix</h3>
      <audio controls class="w-full">
        <source src="/media/showreel-mix.mp3" type="audio/mp3">
      </audio>
    </div>
  </div>

<script>
  const video = document.getElementById('showreelVideo');
  const playBtn = document.getElementById('playShowreel');

  playBtn.addEventListener("click", () => {
    video.muted = false;
    video.play();
  });
</script>

  <!-- STUDIO -->
  <section id="studio" class="section">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-extrabold">Студия</h2>
      <p class="text-white/60 mt-2">Помещение 14 м² — идеальный контроль и ламповая близость к музыке.</p>
      <div class="mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
  <img loading="lazy" decoding="async" src="/images/studio-room-1.webp" alt="РУМ СТУДИО — вокальная комната" class="rounded-2xl border border-white/10">
  <img loading="lazy" decoding="async" src="/images/studio-room-2.webp" alt="РУМ СТУДИО — оборудование и пульт" class="rounded-2xl border border-white/10">
  <img loading="lazy" decoding="async" src="/images/studio-room-3.webp" alt="РУМ СТУДИО — рабочее место звукорежиссёра" class="rounded-2xl border border-white/10">
</div>
    </div>
  </section>

  <!-- BOOKING -->
  <section id="booking" class="section">
    <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-10 items-center">
      <div>
        <h2 class="text-3xl md:text-4xl font-extrabold">Записаться в РУМ СТУДИО</h2>
        <p class="text-white/70 mt-2">Ответим в Telegram, согласуем время и задачу.</p>
        <ul class="mt-4 text-white/70 text-sm space-y-1">
          <li>• Первым клиентам — мягкая скидка</li>
          <li>• Пакеты услуг выгоднее</li>
          <li>• Быстрая связь в Telegram</li>
        </ul>
      </div>
      <div>
        <form id="leadForm" class="glass rounded-2xl p-6 space-y-4" novalidate>
          <input type="text" name="website" class="hidden" autocomplete="off" tabindex="-1" aria-hidden="true">
          <div>
            <label class="text-sm text-white/70" for="name">Имя</label>
            <input class="input" id="name" name="name" placeholder="Ваше имя" minlength="2" required autocomplete="name">
          </div>
          <div>
            <label class="text-sm text-white/70" for="contact">Телефон или Telegram</label>
            <input class="input" id="contact" name="contact" placeholder="@username или +7" required autocomplete="tel">
          </div>
          <div>
            <label class="text-sm text-white/70" for="service">Услуга</label>
            <select class="input" id="service" name="service" required>
              <option value="" disabled selected>Выберите услугу</option>
              <option>Запись вокала</option>
              <option>Сведение</option>
              <option>Мастеринг</option>
              <option>Минус на заказ</option>
            </select>
          </div>
          <div>
            <label class="text-sm text-white/70" for="comment">Комментарий</label>
            <textarea class="input" id="comment" name="comment" rows="3" placeholder="Коротко о задаче и желаемой дате"></textarea>
          </div>
          <button id="leadSubmit" class="btn btn-primary w-full" type="submit">Отправить заявку</button>
          <p id="leadHint" class="text-xs text-white/60">
            Нажимая кнопку, вы соглашаетесь с
            <a class="underline" href="/privacy" target="_blank" rel="noopener">политикой обработки персональных данных</a>.
          </p>
        </form>

        <!-- сюда выводим кнопку на бота после успеха -->
        <div id="tgConfirm" class="mt-3 text-sm text-white/80"></div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="section">
    <div class="max-w-5xl mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-extrabold">FAQ</h2>
      <div class="mt-8 space-y-3">
        <details class="glass rounded-2xl p-5">
          <summary class="cursor-pointer font-semibold">Можно ли прийти без опыта записи?</summary>
          <p class="mt-2 text-white/70">Да. Поможем с разогревом, дыханием, дублями и поведём по процессу.</p>
        </details>
        <details class="glass rounded-2xl p-5">
          <summary class="cursor-pointer font-semibold">Сколько правок включено?</summary>
          <p class="mt-2 text-white/70">В сведение включено 2 правки, в мастеринг — 1. Дополнительные — по договорённости.</p>
        </details>
        <details class="glass rounded-2xl p-5">
          <summary class="cursor-pointer font-semibold">Можно ли подарочный сертификат?</summary>
          <p class="mt-2 text-white/70">Да, оформим цифровой сертификат на запись или сведение.</p>
        </details>
      </div>
    </div>
  </section>

  <!-- CONTACTS -->
  <section id="contacts" class="section">
    <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-10 items-start">
      <div>
        <h2 class="text-3xl md:text-4xl font-extrabold">Контакты</h2>
        <p class="text-white/70 mt-2">г. Подольск, ул. Дружбы, д. 15 · ежедневно 10:00–22:00</p>
        <div class="mt-6 space-y-2 text-white/80">
          <div>Телеграм: <a class="text-[var(--rum)]" href="https://t.me/room_studio15" target="_blank" rel="noopener">@room_studio15</a></div>
          <div>VK: <a class="text-[var(--rum)]" href="https://vk.com/room_sound" target="_blank" rel="noopener">vk.com/room_sound</a></div>
          <div>Instagram*: <a class="text-[var(--rum)]" href="https://www.instagram.com/room.studio15/" target="_blank" rel="noopener">@room.studio15</a></div>
          <div>YouTube: <a class="text-[var(--rum)]" href="https://www.youtube.com/channel/UCOny814J_4fY1OKJG99IR7Q" target="_blank" rel="noopener">ROOM STUDIO</a></div>
          <div>Телефон: <span class="text-[var(--rum)]">+7 985 925-38-08</span></div>
          <div>Email: <a class="text-[var(--rum)]" href="mailto:roomstudio15@yandex.com">roomstudio15@yandex.com</a></div>
        </div>
        <div class="mt-6 flex gap-3">
          <a class="btn btn-outline" target="_blank" rel="noopener" href="https://t.me/room_studio15">Telegram</a>
          <a class="btn btn-outline" target="_blank" rel="noopener" href="https://vk.com/room_sound">VK</a>
          <a class="btn btn-outline" target="_blank" rel="noopener" href="https://www.instagram.com/room.studio15/">Instagram</a>
          <a class="btn btn-outline" target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCOny814J_4fY1OKJG99IR7Q">YouTube</a>
        </div>
        <p class="text-xs text-white/40 mt-4">*Meta Platforms Inc. признана экстремистской организацией на территории РФ.</p>
      </div>
      <div class="rounded-2xl overflow-hidden border border-white/10">
        <iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3A65a86f7b7fdd2f0bff&source=constructor"
                width="100%" height="360" frameborder="0" loading="lazy" referrerpolicy="no-referrer-when-downgrade"
                title="Карта проезда РУМ СТУДИО"></iframe>
      </div>
    </div>
  </section>

  <footer class="border-t border-white/10">
    <div class="max-w-7xl mx-auto px-4 py-8 flex flex-col md:flex-row items-center justify-between gap-4 text-white/60 text-sm">
      <div>© <span id="year"></span> РУМ СТУДИО. Все права защищены.</div>
      <div class="flex items-center gap-4">
        <a href="#booking" class="btn btn-outline">Онлайн-запись</a>
      </div>
    </div>
  </footer>

  <script>
    // год
    document.getElementById('year').textContent = new Date().getFullYear();

    // мобильное меню с a11y
    const menuBtn = document.getElementById('menuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    menuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
      const expanded = menuBtn.getAttribute('aria-expanded') === 'true';
      menuBtn.setAttribute('aria-expanded', String(!expanded));
    });

    // отправка формы: /api/telegram -> после успеха кнопка на @Room_st_bot
    const form = document.getElementById('leadForm');
    const btn  = document.getElementById('leadSubmit');
    const hint = document.getElementById('leadHint');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const fd = new FormData(form);
      // honeypot
      if ((fd.get('website') || '').trim() !== '') return;

      const payload = {
        name:    (fd.get('name')||'').toString().trim(),
        contact: (fd.get('contact')||'').toString().trim(),
        service: (fd.get('service')||'').toString(),
        comment: (fd.get('comment')||'').toString().trim(),
        page:    location.href,
        ts:      new Date().toISOString()
      };

      // базовая валидация перед отправкой
      if (!payload.name || payload.name.length < 2) {
        hint.textContent = 'Укажите имя (минимум 2 символа).';
        return;
      }
      const okContact = /^@?[a-zA-Z0-9_]{3,32}$/.test(payload.contact) || /^\+?\d[\d\s\-()]{8,}$/.test(payload.contact);
      if (!okContact) {
        hint.textContent = 'Укажите корректный Telegram (@username) или телефон.';
        return;
      }
      if (!payload.service) {
        hint.textContent = 'Выберите услугу.';
        return;
      }

      btn.disabled = true;
      btn.textContent = 'Отправляем…';
      hint.textContent = '';

      try {
        const res = await fetch('/api/telegram', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
        const data = await res.json();

        if (res.ok && data?.ok) {
          form.reset();
          hint.textContent = '✅ Спасибо! Заявка отправлена. Мы свяжемся с вами в Telegram.';
          const box = document.getElementById('tgConfirm');
          box.innerHTML =
            'Чтобы получить мгновенное подтверждение, нажмите: ' +
            '<a class="inline-block mt-2 px-3 py-2 rounded-lg font-semibold text-black" ' +
            'style="background:var(--rum)" href="https://t.me/Room_st_bot?start=lead" target="_blank" rel="noopener">Открыть бота</a>';
        } else {
          throw new Error(data?.error || 'Ошибка отправки');
        }
      } catch (err) {
        console.error(err);
        hint.innerHTML = '⚠️ Не удалось отправить. Напишите нам в Telegram: ' +
          '<a class="underline" href="https://t.me/room_studio15" target="_blank" rel="noopener">@room_studio15</a>';
      } finally {
        btn.disabled = false;
        btn.textContent = 'Отправить заявку';
      }
    });
  </script>
  <script>
(() => {
  // Базовые элементы
  const audio     = document.getElementById('showreelAudio');
  const playBtn   = document.getElementById('showreelPlayBtn');
  const iconPlay  = document.getElementById('showreelPlayIcon');
  const iconPause = document.getElementById('showreelPauseIcon');
  const seek      = document.getElementById('showreelSeek');

  // Эквалайзер
  const eqWrap   = document.getElementById('eqWrap');
  const eqCanvas = document.getElementById('eqCanvas');
  const eqCtx    = eqCanvas ? eqCanvas.getContext('2d') : null;

  if (!audio || !playBtn || !seek) return;

  let seeking = false;
  let rafId = null;

  // Web Audio
  let audioCtx = null, analyser = null, source = null, dataArray = null;

  function toggleIcons(playing) {
    if (playing) {
      iconPlay && iconPlay.classList.add('hidden');
      iconPause && iconPause.classList.remove('hidden');
    } else {
      iconPause && iconPause.classList.add('hidden');
      iconPlay && iconPlay.classList.remove('hidden');
    }
  }

  async function ensureAudioGraph() {
    if (audioCtx) {
      if (audioCtx.state === 'suspended') await audioCtx.resume();
      return;
    }
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    analyser = audioCtx.createAnalyser();
    analyser.fftSize = 256;
    const len = analyser.frequencyBinCount;
    dataArray = new Uint8Array(len);

    source = audioCtx.createMediaElementSource(audio);
    source.connect(analyser);
    analyser.connect(audioCtx.destination);
  }

  // === Эквалайзер ===
  function resizeEqCanvas() {
    if (!eqCanvas) return;
    const dpr = window.devicePixelRatio || 1;
    const w = eqCanvas.clientWidth;
    const h = eqCanvas.clientHeight;
    if (w === 0 || h === 0) return;
    eqCanvas.width = Math.floor(w * dpr);
    eqCanvas.height = Math.floor(h * dpr);
    eqCtx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }

  function roundRect(ctx, x, y, w, h, r) {
    r = Math.min(r, w/2, h/2);
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.arcTo(x + w, y, x + w, y + h, r);
    ctx.arcTo(x + w, y + h, x, y + h, r);
    ctx.arcTo(x, y + h, x, y, r);
    ctx.arcTo(x, y, x + w, y, r);
    ctx.closePath();
  }

  function drawEq() {
    if (!analyser || !eqCtx || !eqCanvas) return;
    resizeEqCanvas();
    const w = eqCanvas.clientWidth;
    const h = eqCanvas.clientHeight;

    eqCtx.clearRect(0, 0, w, h);
    analyser.getByteFrequencyData(dataArray);

    const bars = 32;
    const step = Math.floor(dataArray.length / bars);
    const barW = w / bars;

    for (let i = 0; i < bars; i++) {
      const v = dataArray[i * step] / 255;     // 0..1
      const bh = Math.max(2, v * h);
      const x = i * barW + barW * 0.18;
      const y = h - bh;
      const rw = barW * 0.64;
      const r  = Math.min(6, rw * 0.35);

      eqCtx.fillStyle = 'rgba(0,255,136,0.95)';          // var(--rum)
      eqCtx.shadowColor = 'rgba(0,255,136,0.55)';
      eqCtx.shadowBlur = 10;

      roundRect(eqCtx, x, y, rw, bh, r);
      eqCtx.fill();
    }

    rafId = requestAnimationFrame(drawEq);
  }

  function startEq() {
    if (eqWrap) eqWrap.style.opacity = '1';
    cancelAnimationFrame(rafId);
    drawEq();
  }

  function stopEq() {
    if (eqWrap) eqWrap.style.opacity = '0';
    cancelAnimationFrame(rafId);
    if (eqCtx && eqCanvas) eqCtx.clearRect(0, 0, eqCanvas.clientWidth, eqCanvas.clientHeight);
  }

  // === Управление плеером ===
  playBtn.addEventListener('click', async () => {
    try {
      await ensureAudioGraph();       // инициализируем/возобновляем AudioContext
      if (audio.paused) {
        await audio.play();
      } else {
        audio.pause();
      }
    } catch (e) {
      // Браузер может блокировать автоплей — ничего страшного
      console.warn(e);
    }
  });

  // Обновляем ползунок во время проигрывания
  audio.addEventListener('timeupdate', () => {
    if (seeking || !isFinite(audio.duration) || audio.duration === 0) return;
    seek.value = (audio.currentTime / audio.duration) * 100;
  });

  // Пользователь двигает ползунок
  seek.addEventListener('input', () => {
    seeking = true;
    if (!isFinite(audio.duration) || audio.duration === 0) return;
    audio.currentTime = (seek.value / 100) * audio.duration;
  });
  seek.addEventListener('change', () => {
    seeking = false;
  });

  // События аудио — иконки и эквалайзер
  audio.addEventListener('play',  () => { toggleIcons(true);  startEq(); });
  audio.addEventListener('pause', () => { toggleIcons(false); stopEq(); });
  audio.addEventListener('ended', () => {
    toggleIcons(false);
    stopEq();
    seek.value = 0;
  });

  // Адаптация под ресайз
  window.addEventListener('resize', resizeEqCanvas, { passive: true });

})();
</script>
</body>
</html>








































